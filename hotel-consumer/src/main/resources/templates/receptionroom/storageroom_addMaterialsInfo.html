<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>添加物品信息</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="Modern Responsive web template, Bootstrap Web Templates, Flat Web Templates, Andriod Compatible web template,
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyErricsson, Motorola web design" />
    <script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" type="text/css" href="http://www.jq22.com/jquery/bootstrap-3.3.4.css">
    <!-- Custom CSS -->
    <link href="/css/style.css" rel='stylesheet' type='text/css' />
    <!-- Graph CSS -->
    <link href="/css/lines.css" rel='stylesheet' type='text/css' />
    <link rel="stylesheet" type="text/css" href="http://www.jq22.com/jquery/font-awesome.4.6.0.css">
    <!-- jQuery -->
    <script src="http://www.jq22.com/jquery/jquery-1.10.2.js"></script>
    <!--时钟-->
    <link rel="stylesheet" href="/clock/css/demo.css"/>
    <!---//webfonts--->
    <!-- Nav CSS -->
    <link href="/css/custom.css" rel="stylesheet">
    <!-- Metis Menu Plugin JavaScript -->
    <script src="/js/metisMenu.min.js"></script>
    <script src="/js/custom.js"></script>
    <!-- Graph JavaScript -->
    <script src="/js/d3.v3.js"></script>
    <script src="/js/rickshaw.js"></script>


    <link href="/css/fileinput.min.css" media="all" rel="stylesheet" type="text/css" />
    <script src="/js/fileinput.min.js" type="text/javascript"></script>
    <script src="/js/fileinput_locale_zh.js" type="text/javascript"></script>

    <script src="/js/locales/zh.js"></script>
</head>
<body>
<div id="wrapper">
    <div>
        <div class="graphs">
            <div class="col-md-12 graphs">
                <div class="xs">
                    <h3>物品详细信息</h3>
                    <div class="well1 white">
                        <form class="form-floating ng-pristine ng-invalid ng-invalid-required ng-valid-email ng-valid-url ng-valid-pattern box-header with-border" id="dataFrom" enctype="multipart/form-data"  action="/materials/doAddMaterialsInfo"  method="post" novalidate="novalidate" ng-submit="submit()">
                            <fieldset>
                                <div class="form-group">
                                    <label class="control-label">物品名称：</label>
                                    <input type="text" class="form-control1 ng-invalid ng-invalid-required ng-touched" ng-model="model.name" required="" name="materialsName">
                                </div>
                                <div class="form-group">
                                    <label class="control-label">物品条形码：</label>
                                    <input type="text" class="form-control1 ng-invalid ng-invalid-required ng-touched" ng-model="model.email" required="" name="materialsBarCode">
                                </div>
                                <div class="form-group">
                                    <label class="control-label" for="img">物品图片：</label>
                                    <input type="file" class="file form-control1 ng-invalid ng-invalid-required ng-touched" ng-model="model.password" required="" id="img" multiple name="images">
                                    <input type="hidden" name="materialsPath">
                                </div>
                                <div class="form-group filled">
                                    <label class="control-label">物品分类：</label>
                                    <select class="form-control1 ng-invalid ng-invalid-required" ng-model="model.select" required=""  name="materialsStatus" id="materialsStatus"><option value="? undefined:undefined ?"></option>
                                        <option th:each="materials:${dataStatuses}" th:value="${materials.valueId}" th:text="${materials.valueName}"></option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="control-label">物品规格：</label>
                                    <input type="text" name="materialsStandard" class="form-control1 ng-invalid ng-invalid-required ng-touched" ng-model="model.name" required="">
                                </div>
                                <div class="form-group">
                                    <label class="control-label">物品型号：</label>
                                    <input type="text" name="materialsModel" class="form-control1 ng-invalid ng-invalid-required ng-touched" ng-model="model.name" required="">
                                </div>
                                <div class="form-group">
                                    <label class="control-label">产地：</label>
                                    <input type="text" name="materialsProducts" class="form-control1 ng-invalid ng-invalid-required ng-touched" ng-model="model.name" required="">
                                </div>
                                <div class="form-group">
                                    <label class="control-label">单价：</label>
                                    <input type="text" name="materialsUnitPrice" class="form-control1 ng-invalid ng-invalid-required ng-touched" ng-model="model.name" required="">
                                </div>
                                <div class="form-group filled">
                                    <label class="control-label">供应商：</label>
                                    <select class="form-control1 ng-invalid ng-invalid-required" ng-model="model.select" required="" name="supplierNumber" id="supplierNumber">
                                        <option value="? undefined:undefined ?"></option>
                                        <option th:each="supplierInfo:${supplierInfos}" th:text="${supplierInfo.supplierDepartmentName}" th:value="${supplierInfo.supplierNumber}"></option>
                                    </select>
                                </div>
                                <div class="form-group filled">
                                    <label class="control-label">是否库存警报：</label>
                                    <select name="isStockAlam" id="isStockAlam" class="form-control1 ng-invalid ng-invalid-required" ng-model="model.select" required="">
                                        <option value="? undefined:undefined ?"></option>
                                        <option value="1" th:text="充足"></option>
                                        <option value="2" th:text="缺少"></option>
                                        <option value="3" th:text="暂无"></option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="control-label normal">生产日期：</label>
                                    <input type="date" class="form-control1 ng-invalid ng-invalid-required" ng-model="model.date" required=""  name="materialsStartDate">
                                </div>
                                <div class="form-group">
                                    <label class="control-label normal">过期日期：</label>
                                    <input type="date" class="form-control1 ng-invalid ng-invalid-required" ng-model="model.date" required=""  name="materialsEndDate">
                                </div>

                                <div class="form-group">
                                    <label class="control-label">物品编号：</label>
                                    <input type="text" name="materialsNumber" class="form-control1 ng-invalid ng-invalid-required ng-touched" ng-model="model.name" required="">
                                </div>
                                <div class="form-group filled">
                                    <label class="control-label">是否停用：</label>
                                    <select name="materialsDisable" id="materialsDisable" class="form-control1 ng-invalid ng-invalid-required" ng-model="model.select" required="">
                                        <option value="? undefined:undefined ?"></option>
                                        <option value="1"  th:text="未停用"></option>
                                        <option value="2"  th:text="停用"></option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label class="control-label">成本价：</label>
                                    <input type="text" name="materialsPrices" class="form-control1 ng-invalid ng-invalid-required ng-touched" ng-model="model.name" required="">
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="btn btn-primary">添加</button>
                                    <button type="reset" class="btn btn-default" onclick="toMaterialsInfoList()">返回</button>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
            <div class="span_11">
                <div class="col-md-6 col_4">

                    <!----Calender -------->
                    <link rel="stylesheet" href="/css/clndr.css" type="text/css" />
                    <script src="/js/underscore-min.js" type="text/javascript"></script>
                    <script src= "/js/moment-2.2.1.js" type="text/javascript"></script>
                    <script src="/js/clndr.js" type="text/javascript"></script>
                    <script src="/js/site.js" type="text/javascript"></script>
                    <!----End Calender -------->
                </div>
                <div class="col-md-6 col_5">
                    <div id="chart_container">
                        <script>

                            var imageData = []; //多图上传返回的图片属性接受数组  这里是因为我在做表单其他属性提交的时候使用，在这里我没有将别的input写出来

                            $("#img").fileinput({
                                language : 'zh',
                                uploadUrl : "/common/image/save-test",
                                showUpload: true, //是否显示上传按钮
                                showRemove : true, //显示移除按钮
                                showPreview : true, //是否显示预览
                                showCaption: false,//是否显示标题
                                autoReplace : true,
                                minFileCount: 0,
                                uploadAsync: true,
                                maxFileCount: 10,//最大上传数量
                                browseOnZoneClick: true,
                                msgFilesTooMany: "选择上传的文件数量 超过允许的最大数值！",
                                enctype: 'multipart/form-data',
                                maxFileSize:0,//单位为kb，如果为0表示不限制文件大小
                                // overwriteInitial: false,//不覆盖已上传的图片
                                allowedFileExtensions : [ "jpg", "png", "gif" ],
                                browseClass : "btn btn-primary", //按钮样式
                                previewFileIcon : "<i class='glyphicon glyphicon-king'></i>"
                            }).on("fileuploaded", function(e, data) {//文件上传成功的回调函数，还有其他的一些回调函数，比如上传之前...
                                var res = data.response;
                                console.log(res)
                                imageData.push({
                                    "path": res.data.path,
                                    "date":res.data.date
                                });
                                $("input[name='materialsPath']").val(res.data.path);
                            });
                        </script>


                        <script>




                            function toMaterialsInfoList() {
                                location.href="/materials/queryMaterialsInfoAll";
                            }
                            var seriesData = [ [], [], [], [], [] ];
                            var random = new Rickshaw.Fixtures.RandomData(50);

                            for (var i = 0; i < 75; i++) {
                                random.addData(seriesData);
                            }

                            var graph = new Rickshaw.Graph( {
                                element: document.getElementById("chart"),
                                renderer: 'multi',

                                dotSize: 5,
                                series: [
                                    {
                                        name: 'temperature',
                                        data: seriesData.shift(),
                                        color: '#AFE9FF',
                                        renderer: 'stack'
                                    }, {
                                        name: 'heat index',
                                        data: seriesData.shift(),
                                        color: '#FFCAC0',
                                        renderer: 'stack'
                                    }, {
                                        name: 'dewpoint',
                                        data: seriesData.shift(),
                                        color: '#555',
                                        renderer: 'scatterplot'
                                    }, {
                                        name: 'pop',
                                        data: seriesData.shift().map(function(d) { return { x: d.x, y: d.y / 4 } }),
                                        color: '#555',
                                        renderer: 'bar'
                                    }, {
                                        name: 'humidity',
                                        data: seriesData.shift().map(function(d) { return { x: d.x, y: d.y * 1.5 } }),
                                        renderer: 'line',
                                        color: '#ef553a'
                                    }
                                ]
                            } );


                            graph.render();

                            var detail = new Rickshaw.Graph.HoverDetail({
                                graph: graph
                            });
                        </script>
                    </div>
                    <!-- map -->
                    <link href="/css/jqvmap.css" rel='stylesheet' type='text/css' />
                    <script src="/js/jquery.vmap.js"></script>
                    <script src="/js/jquery.vmap.sampledata.js" type="text/javascript"></script>
                    <script src="/js/jquery.vmap.world.js" type="text/javascript"></script>
                    <script type="text/javascript" src="/clock/js/clock-1.1.0.min.js"></script>
                    <script>

                        var clock = $("#clock").clock(),
                            data = clock.data('clock');

                        // data.pause();
                        // data.start();
                        // data.setTime(new Date());

                        var d = new Date();
                        d.setHours(9);
                        d.setMinutes(51);
                        d.setSeconds(20);

                        var clock1 = $("#clock1").clock({
                            width: 210,
                            height: 305,
                            theme: 't2',
                            date: d
                        });

                        var clock2 = $("#clock2").clock({
                            width: 150,
                            height: 220,
                            theme: 't3'
                        });

                    </script>
                    <script type="text/javascript">
                        jQuery(document).ready(function() {
                            jQuery('#vmap').vectorMap({
                                map: 'world_en',
                                backgroundColor: '#333333',
                                color: '#ffffff',
                                hoverOpacity: 0.7,
                                selectedColor: '#666666',
                                enableZoom: true,
                                showTooltip: true,
                                values: sample_data,
                                scaleColors: ['#C8EEFF', '#006491'],
                                normalizeFunction: 'polynomial'
                            });
                        });
                    </script>
                    <!-- //map -->
                </div>
                <div class="clearfix"> </div>
            </div>
            <div class="content_bottom">

                <div class="clearfix"> </div>
            </div>
        </div>
    </div>
    <!-- /#page-wrapper -->
</div>
<!-- /#wrapper -->
<!-- Bootstrap Core JavaScript -->
<script src="http://www.jq22.com/jquery/bootstrap-3.3.4.js"></script>
</body>
</html>
